{% extends 'base.html.twig' %}

{% block title %}Products
{% endblock %}

{% block body %}
	{% include 'header/header.html.twig' %}

	<div class="example-wrapper bg-gray-300 h-screen p-4">
		<div class="w-full h-1/2  grid grid-cols-[3fr_6fr_2fr] bg-gray-300">
			<div class="flex justify-center items-center w-full pr-5 ">
				<div
					id="controls-carousel" class="relative w-full h-[85%]" data-carousel="static" data-carousel-interval="3000"> 
					<!-- Carousel wrapper -->
					<div
						class="relative h-full overflow-hidden rounded-lg md:h-96">
						{% set index = 0%}
						{% for image in product.pictures %}
							{% if index==0 %}
								<div class=" duration-700 ease-in-out" data-carousel-item="active">
									<img src="{{image.url}}" alt="" class=" h-auto absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
								</div>
							{% else %}
								<div class="hidden duration-700 ease-in-out" data-carousel-item>
									<img src="{{image.url}}" alt="" class=" h-auto absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
								</div>
							{% endif %}
							{% set index = index + 1 %}
						{% endfor %}
					</div>
					<!-- Slider controls -->
					<button type="button" class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
						<span class="inline-flex items-center justify-center w-10 h-10 bg-glaucous rounded-full group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
							<svg class="w-4 h-4 text-white rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 6 10">
								<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
							</svg>
							<span class="sr-only">Previous</span>
						</span>
					</button>
					<button type="button" class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
						<span class="inline-flex items-center justify-center w-10 h-10 bg-glaucous rounded-full group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
							<svg class="w-4 h-4 text-white  rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 6 10">
								<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
							</svg>
							<span class="sr-only">Next</span>
						</span>
					</button>
				</div>
			</div>
			<div class="flex justify-center flex-col h-[66%] gap-2">
				<h1 class=" text-3xl font-semibold flex items-center">{{ product.name }}</h1>
				<h2 class=" text-2xl font-semibold">
					{{ product.description}}
				</h2>
				<div class="grid grid-cols-2">
					<div class="inline-flex gap-1">
						{% for i in 0..4 %}
							<svg class="p-1 bg-white rounded-xl" height="25px" width="25px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 47.94 47.94" xml:space="preserve" fill="#000000">
								<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
								<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
								<g id="SVGRepo_iconCarrier">
									<path style="fill:#ED8A19;" d="M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757
																													c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042
																													c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685
																													c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528
																													c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956
																													C22.602,0.567,25.338,0.567,26.285,2.486z"></path>
								</g>
							</svg>

						{% endfor %}
						<p class=" font-semibold">
							5/5
						</p>
					</div>
					<div class=" text-xl font-bold">174 avis</div>
				</div>
			</div>
			<div class=" flex justify-center items-center">
				<div class=" h-[85%] bg-white rounded-xl w-full ">
					<form action="" method="post" class=" h-full w-full grid grid-rows-3 justify-center items-center p-2">
						<div class=" w-full flex flex-col justify-center items-center">
							<h1 class="font-bold text-3xl line-through w-full flex justify-center">
								{{ product.pricettc - (product.pricettc)*0.2}}
								€
							</h1>
							<h1 class="font-bold text-3xl text-red-600 w-full flex justify-center">
								{{ product.pricettc }}
								€
							</h1>
						</div>
						<div class=" flex gap-2 w-full justify-center items-center">
							<p class=" font-semibold">Quantité :</p>
							<!-- Input Number -->
							<div class="py-2 px-3 inline-block bg-white border border-glaucous rounded-lg w-1/2" data-hs-input-number="">
								<div class="flex justify-center items-center gap-x-5">
									<button id="minusButton" type="button" class="size-6 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-md border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none" tabindex="-1" aria-label="Decrease" data-hs-input-number-decrement="">
										<svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M5 12h14"></path>
										</svg>
									</button>
									<input id="inputCart" class="p-0 w-6 bg-transparent border-0 text-gray-800 text-center focus:ring-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none" style="-moz-appearance: textfield;" type="number" aria-roledescription="Number field" value="1" data-hs-input-number-input="">
									<button id="plusButton" type="button" class="size-6 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-md border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none" tabindex="-1" aria-label="Increase" data-hs-input-number-increment="">
										<svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M5 12h14"></path>
											<path d="M12 5v14"></path>
										</svg>
									</button>
								</div>
							</div>
						</div>
						<div class="flex justify-center items-end h-full w-full">
							<input type="submit" value="Ajouter au panier" class=" mb-4 w-full h-10 text-xl font-semibold  bg-glaucous text-white rounded-xl hover:bg-glaucousHover mx-2 ease-in-out duration-200 hover:shadow-md hover:shadow-glaucousHover hover:cursor-pointer">
						</div>
					</form>
				</div>
			</div>
		</div>
		{% if is_granted('IS_AUTHENTICATED_FULLY') %}
			<a href="{{ path('app_home') }}">back to list</a>

			<a href="{{ path('app_products_edit', {'id': product.id}) }}">edit</a>

			{{ include('products/_delete_form.html.twig') }}
		{% endif %}
	</div>
	<script src="{{asset('js/products/show.js')}}"></script>
{% endblock %}
